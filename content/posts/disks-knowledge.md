---
title: "硬盘知识详述"
date: 2021-05-20T23:25:37+08:00
draft: false
---

本篇文章主要涉及了有关硬盘的各种知识，包括各种硬盘和硬盘接口的区别，硬盘品牌的选择及注意要点，还涉及了硬盘组成的各种阵列，为组建个人和家庭NAS提供在硬盘知识上的汇总。

<!--more-->

# 硬盘的各种物理结构

## 机械硬盘

机械硬盘是使用旋转的磁盘进行数据的存储，通过使用不断移动的固定在磁臂上的磁头来对磁盘上的内容进行读取和存储。

![硬盘结构](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-21/frc-fa01fcaff02de70285e70ec45b5b98a4-22-04-24-cd3e5a7d9afbd34b9bef008985cf7859-b07d9e.jpg)

磁盘在逻辑上被划分为磁道、柱面和扇区，大容量硬盘一般会有多个磁盘盘片。一个磁盘上会有很多个同心圆，这些同心圆就是磁道。磁道上的一段距离则被划分为一个扇区，此为硬盘的最小物理存储单位。所有盘面上相同位置的磁道组成一个柱面，柱面是分区的最小单位。数据的读写是按照柱面进行的，最外侧是0，优先在一个柱面的一个磁道进行写操作，此磁道写满后换同柱面的下一个盘来进行写操作，只有同一柱面所有磁头全部读写完毕才会移动到下一柱面。

![磁盘结构](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-21/images-22-04-36-ff9597c87d11a82a00b2649b0674898a-6b692d.jpeg)

磁盘一般以固定速度进行旋转 ，而磁头进行数据位置的定位，常见的磁盘旋转速度为5400转每分，常见于2.5英寸硬盘，用于笔记本电脑，还有7200转的磁盘，常见于3.5英寸的硬盘，服务器的机械硬盘有可能达到10000转以上。一般来说转速越高，写入和读取速度越快。

## 固态硬盘

固态硬盘一般有三个主要部件，主控芯片、闪存颗粒、缓存单元。形态上有类似于2.5英寸机械硬盘外形的，还有直接插到主板上的形状的，另外还有插在主板PCI-E插槽上的。

![SSD固态硬盘的结构](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/5b540003d73b6cc4e082-11-48-17-fce4190d87cc7858dd04ce939078626c-3451f3.jpeg)

主控芯片是整个固态硬盘的控制核心，主要负责调配数据在各闪存颗粒上的存储位置，另外还负责了数据与外界的传输，不同的主控会导致不同的性能差距，若主控算法得当，则会大幅提升固态硬盘的使用寿命。主流的主控芯片有marvell 迈威（俗称“马牌”）、SandForce、siliconmotion慧荣、phison群联、jmicron智微等。

闪存颗粒是整个固态硬盘的存储核心，主要负责数据的存储，采用的是非易失存储器。闪存颗粒根据每个单元存储信息的多少来进行区分，分别为SLC、MLC、TLC和QLC，每个单元各能存储1bit、2bit、3bit、4bit。信息的存储是由电压来控制的，SLC只需要有两种电压变化，而QLC需要有16种变化。由于对信息的多次擦写会导致电压出现轻微变化，所以每种颗粒都是有具体的擦写寿命的。存储信息越多代表对电压的变化更加敏感，擦写次数过多电压发生变化后会导致数据无法被准确识别，从而导致数据的丢失。TLC的擦写寿命为1000-3000次，而QLC只有几百次的寿命。所以QLC颗粒的容量比TLC的大，成本更低，但寿命更短。主控使用算法控制数据的写入位置，使得各闪存颗粒具有更为均衡的擦写次数。主流主流的闪存颗粒厂商主要有toshiba东芝、samsung三星、Intel英特尔、micron美光、skhynix海力士、sandisk闪迪等。

![闪存颗粒区分](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/v2-83810a49416eca2840a4bd570169c752_1440w-16-54-45-841fdec24aaabfb7d0981fcb5d9f4886-43918e.jpg)

缓存主要用在常用文件的随机性读写和碎片文件的快速读取上，低端SSD常常取消缓存。闪存写入时需要使用一个映射表将数据与真实存储位置进行对应，需要时时更新，所以在短时间大量数据的读写后，会将缓存彻底占用完毕，导致SSD降低速度，若无缓存，则会更早掉速。目前有部分厂商使用系统内存作为缓存，称为内存缓冲技术。

常见的硬盘读取速度为顺序读写速度，即大文件的写入速度。但日常使用计算机时最常用到的是4K读取速度，即小文件读写速度。由于机械硬盘机械结构的限制，4K读取速度与磁头移动到数据存储位置的时间有关，具有极限性。而固态硬盘由于不存在对应的机械结构，可以直接定位数据存储位置，所以4K读取性能显著优于机械硬盘，此为日常使用系统安装在固态硬盘的计算机速度更快的原因。

![机械硬盘与固态硬盘读写速度对比](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/6580b18f-e301-41d3-b032-185b6c1afb15-17-35-54-7971c7391a14a0cfb28bf696583c4be2-ba2559.jpg)

## 其他形式的存储设备

### 傲腾

傲腾为Intel的技术，作用是作为计算机的大容量缓存，其可以通过统计数据的使用频率将高频调用的数据缓存在其中，加速系统和软件的运行。一般使用的插槽为PCI-E或主板指定的M.2插槽，使用条件比较苛刻。由于SSD的快速普及，而傲腾内存比较贵，所以较少人使用。

### 内存盘

内存盘是使用内存虚拟出一个硬盘，能达到内存的读写速度，缺点是在断电后数据丢失。在有较多内存的情况下，可以以最低的成本获得一个小容量高速硬盘，常见的读写速度能达到10GB/s。

![内存盘读写速度 ](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/ChMkJlidYPiIF669AACdBnc-Oe4AAZ2UgLUMt0AAJ0e997-17-28-36-46c3d2e55ba46e1f2c8e03bceb34a740-c73f58.png)

### 混合固态硬盘

混合固态硬盘为机械硬盘与固态硬盘的结合产物，将小容量SSD放入机械硬盘中作为缓存，提升机械硬盘的读写速度。当前由于大容量固态硬盘的降价和普及，已经基本不再使用。

### 磁带

磁带存储是大容量冷数据存储的首选，磁带的价格为1TB约5美元，远低于其他的存储方式，且存储密度极高。但是由于磁带的保存条件苛刻，读取时需要昂贵的专用设备，且随机数据读取能力几乎为0，所以常用在数据中心的数据冷存储。

# 硬盘的各种接口

## SATA

SATA接口是目前常用的接口，SATA 1代带宽为1.5Gb/s，2代为3Gb/s，目前常见的SATA 3带宽为6Gb/s，实际传输速度极限为600MB/s。

![SATA接口](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/1-19101GR31LI-18-10-03-6b6c6930127429560c0b1701a664a8e9-33f719.png)

此接口常见于2.5英寸硬盘和3.5英寸硬盘，上图中左侧为SATA接口，右侧为硬盘电源接口。

## mSATA

mSATA接口是早期为了适应超级本等超薄设备设计的接口，属于标准接口的mini版，同样使用的SATA通道。当前正在被发展更为迅速的M.2接口代替。

![mSATA接口](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/ChMkJlguuuaINXMKAAfh5iSL8oIAAX27wMzVAwAB-H-941-18-17-32-dba64de25d43336adab47112a1da1b8c-e5f299-18-18-06-dba64de25d43336adab47112a1da1b8c-ddc840.png)

## M.2

M.2接口最初被称为NGFF（NextGenerationFormFactor），可以支持PCI-E通道和SATA通道。M.2接口有两种物理形态常见的为B key和M key形态。

![m.2的B key和M key](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/v2-924746464df1886b05f3de3280bd3b64_r-18-27-46-924746464df1886b05f3de3280bd3b64-bc0e2a.jpg)

![M.2不同接口的实机拍摄](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/v2-c89a7ca5b175a05551c03eaafb6b9227_r-18-29-44-12ed2f9dd8a5d250c0792a2f34ef9a0b-541cf1.jpg)

另外还有不常见的A&E key形态。

![M.2的A&E key形态](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/v2-236bb1b7cfb2967a5ad8b034cc677ce9_r-18-31-30-236bb1b7cfb2967a5ad8b034cc677ce9-d63374.jpg)

不同的物理接口定义可以走不同的总线通道。对于常见的B key和M key的M.2接口来说，B key的口可以走PCIe x2 、SATA 总线以及一堆其他的通道，而 M key的口主要就是 PCIe x4和SATA总线。不同的通道极大的影响着数据传输速度。SATA 3的极限速度为600MB/s，而PCI-E 3.0x4通道可以达到3.94GB/s。现在PCI-E 4.0已经被实现，带宽速度将再增加一倍。

![SATA通道的传输能力](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/v2-27607d4cf70972be175ce3bc534ba564_r-18-39-01-27607d4cf70972be175ce3bc534ba564-50fc74.jpg)

![PCI-E通道的数据传输能力](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/v2-25ba07fda549530bd1b249203f6041a2_r-18-38-20-a7c3d8cdf320cad463bd45d913587ccc-a95a97.jpg)

主板上M.2接口走的通道与主板的设计和CPU的PCI-E通道数量有关，需要具体查看主板的说明书。一般情况下，M key接口允许走的PCI-E 3.0x4通道和SATA通道，B key接口只走SATA通道。需要注意的是，有些主板插入M.2接口时会导致部分SATA接口部分失效，需要查看主板说明书。

NVMe为非易失性内存主机控制器接口规范，其为一种协议，允许SSD可以走PCI-E通道。

在购买M.2接口的SSD时，需要注意其物理接口形态，一般来说有两个缺口的走的是SATA通道，其既可以插到B key接口又可以插到M key接口，如下图所示。

![B&M Key ](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/ChMkJ1guuuKIA1irAAelLoj9VaAAAX27wMXEooAB6VG892-18-51-44-fb0f1fabc67244d97787be9dcaf81b05-ef5034.png)

而只有右侧有缺口的SSD通常为M key接口，只能插在M key插槽中，一般走的是PCI-E通道，常见的通道速度为PCI-E 3.0x4，远超SATA的传输速度，如下图所示。

![M key](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/cn-970-pro-nvme-m-2-ssd-mz-v7p512bw-frontblack-96784071-18-55-03-51a2c03c7976c174a885da44a45f707b-dfac36.png)

需要注意，M.2硬盘的发热量巨大，在长时间高负载的应用场景下，最好增加散热片。

m.2的硬盘尺寸有多个，硬盘宽为22毫米，长度可以为42毫米、80毫米、110毫米，分别被写做2242，2280，22110，购买时需要注意主板对m.2长度的要求，常见的尺寸为2242和2280，如上图的三星970Pro的尺寸为2280。

## mini PCI-E

![MINI PCI-E接口](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/20210522213913-21-39-13-1bdf216744be78a7816bfd694b90e777-33a33a-21-39-35-1bdf216744be78a7816bfd694b90e777-1e2a7b.png)

Mini PCI-E是基于PCI-E总线的接口，一般是应用在笔记本电脑上，可以插入固态硬盘，无线网卡等设备。mSATA接口的形状和mini PCI-E 接口完全一致，都是54Pin针脚，因此非常容易混淆，不过mSATA接口安装的都是全高卡，而mini PCI-E有半高卡，而且部分机型还会在接口附近标注字样，要注意区分。现在此接口基本只用来安装无线网卡。

![MINI PCI-E接口与mSATA接口的对比](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/20210522214541-21-45-42-a1926dca4ff0f09ed771b6926e0808e2-6eb57d-21-45-58-a1926dca4ff0f09ed771b6926e0808e2-278433.png)

Mini PCI-E接口可以使用扩展卡转换为2口的SATA接口，如下图所示。

![mini PCI-E转2口SATA](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/v2-4521a1f5bdd45bf75cbc9178696111df_r-21-48-15-e1d49b7645d24095c362c20188e5c6e1-28ebe1.jpg)

## IDE

IDE接口是旧式的硬盘接口，低成本但是性能较低，目前已经被淘汰。

![IDE接口与SATA接口的对比](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/t01c3376d25c6577913-21-51-48-9f72a081ea4061a3c6a377fb4e41282e-70f76b.jpg)

## SAS

SAS（Serial Attached SCSI）即串行连接SCSI，是新一代的SCSI技术，和现在流行的Serial ATA（SATA）硬盘相同，都是采用串行技术以获得更高的传输速度，并通过缩短连结线改善内部空间等。SAS接口技术可以向下兼容SATA，物理层和协议层都是向下兼容的，SATA硬盘可以直接使用在SAS环境中。SATA是SAS的一个子标准，所以SAS控制器可以直接控制SATA硬盘，但是SAS硬盘不能使用在SATA环境中，因为SATA控制器无法对SAS硬盘进行控制。如果使用SAS硬盘必须使用SAS控制器，如常见的阵列卡。

阵列卡有IT模式和IR模式，IT模式是硬盘直通，由系统进行识别硬盘，而IR模式是由阵列卡组成RAID，系统识别到的是已经组过RAID的硬盘，两种模式在一些阵列卡上通过刷固件可以切换。

![阵列卡](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/20140603012422166-22-40-54-f146cfc2e62d66d99efd464d1ddde6fa-ff62d6.jpg)

连接线SATA和SAS是不相同的。SATA是一个端口对应着一个连接器，也就是单路连接，而SAS是支持4路的宽链接，可以将4个窄端口聚合为一个宽端口，其接口标准有很多。

SFF-8643和SFF-8644是36针的连接器，符合SAS 3.0标准，支持12Gb/s SAS传输速度。如下图所示。

![常见的SAS接口类型介绍说明 ](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/o4YBAF8f4k-ANNFiAAMN7kSdJPU601-22-25-39-a08ec6e5bc07f122d55607fc2dba7ccc-21994a.png)

SFF-8088和SFF-8087也是36针的连接器，符合mini-SAS 2.0标准，支持6Gb/s SAS传输速度，主要用于mini SAS 4i 阵列卡中。如下图所示。

![SFF-8087](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/61Msi9Rb4gL._AC_SY355_-22-29-20-88353b412097792925481dffc1c12dd3-6da18c.jpg)

SFF-8639，又称U.2接口，是68针的接口，可以支持12Gb/s SAS和PCI-E 3.0x4或 PCI-E NVMe，此接口在服务器主板上比较常见，常用于连接SSD。如下图所示。

![img](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/b338b42be911bf8e7f987a5a483ac9e4_wap-22-28-13-212fde261f18bbf072e44ea855a5089f-701760.jpg)

SFF-8680是29针的连接器，支持2个SAS端口，同时支持电源输出。如下图所示。

![常见的SAS接口类型介绍说明 ](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/o4YBAF8f4tiAK4WmAAIsDLTTCAQ003-22-32-43-01a10c45180e98c1a8f66dcbd8700cf7-7c4232.png)

# 硬盘的品牌选择

## 机械硬盘品牌

目前市场上常见品牌只有西部数据、希捷、东芝三家。另外昱科为西部数据的子品牌。2012年西部数据对日立硬盘业务进行收购，2016年对闪迪进行并购。目前机械硬盘常见品牌为西部数据和希捷。

### 西部数据产品线

西部数据简称西数，主要通过颜色来区分不同产品。

西数绿盘在2015年并入蓝盘产品线，现在型号结尾为Z的即为原来的绿盘。

西数红盘是专为NAS设计的产品，提供噪音控制和震动保护。

西数蓝盘为日常家用盘，为普通家用设计。

西数紫盘是为监控设计的产品，强调长时间写入。

西数黑盘是为高端游戏设计的，提供最高的硬盘性能。

西数金盘为企业级硬盘。

### 希捷产品线

银河为企业级产品线，价格最高。

酷狼品质与银河相似，但售后保障不如银河。

酷鹰为监控盘。

酷鱼为普通家用盘。

## 机械硬盘选购注意要点

由于机械硬盘的结构非常复杂，只有很少的厂商有能力生产，所以目前见到的机械硬盘并不存在假盘，但是以下这些硬盘需要格外注意：清零盘、叠瓦盘，购买时要远离这两种盘。

自2013年以来，数据备份服务商Backblaze每季度都会发布其数据中心的硬盘故障率报告，已经成为硬盘可靠性的重要参考，选购具体硬盘型号时，可以查看此型号在故障率报告中的分析结果作为购买参考。

![硬盘故障率报告](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-22/1597842661-4874-cdc7faf66141528-23-32-50-77fbba63ead3af5f3dd345a695d01347-082ff3.jpg)

### 清零盘

清零盘为奸商将二手硬盘数据进行清零，当作新硬盘来售卖的硬盘，在机械硬盘和固态硬盘中都存在。机械硬盘的清零盘容易出现坏道，而固态硬盘的清零盘容易出现掉速。

### 叠瓦盘

叠瓦盘为SMR，垂直盘为PMR，CMR，远离SMR的机械硬盘。叠瓦盘通过将数据重叠，增大了数据存储密度，但是会导致在重写数据时，同时需要修改与其重叠的数据，导致速度特别慢。

西部数据曾经将叠瓦盘和垂直盘混杂卖，而希捷曾在企业级硬盘中使用叠瓦盘。目前两家都在公众的压力下将叠瓦盘的具体型号进行公开，可以自行进行查询避开这些型号。

## 固态硬盘品牌

选择固态硬盘时，主要看闪存颗粒。目前世界上能自主生产颗粒的厂家有：intel、三星、闪迪、东芝、镁光（英睿达）、海力士。正规的固态硬盘都是使用这几家合格的原厂颗粒，如使用自家颗粒的intel、三星、闪迪、镁光（英睿达）、东芝等；另外还有自己不生产颗粒，但是从原厂购买颗粒的浦科特、海盗船、建兴等，这些都是可以选择的品牌。

除此之外，还有使用白片、黑片颗粒的厂家，白片指原厂检验不合格的瑕疵品，被偷卖出去来制作固态硬盘，黑片是彻底的废片，质量上比白片还差。使用这些颗粒的一般都是杂牌厂，以及冒充高端品牌的假盘，比较难以分辨。

![闪存颗粒品质对比](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-23/1373708-20190404182005327-999211516-10-07-40-4b4496b88d6e927ae2491944905ff92b-144a15.png)

缓存越大，其在高负载大数据写入时越不容易掉速。正规品牌都标明了缓存的大小，一般情况下，同存储容量的固态硬盘，缓存越大越好。但是由于一些厂商优秀的算法以及高质量的闪存颗粒，使用内存作缓存也可以达到比较好的效果。

![三星固态硬盘](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-23/image-20210523103309640-10-33-09-782050022b6bef14fc93228f8d2dcda0-d1ca93.png)

三星的固态硬盘质量是所有固态硬盘的第一梯队，其分为两个大的系列，分别是8X0和9X0系列，8X0系列是2.5英寸SATA接口固态硬盘，9X0系列是nvme固态硬盘。X代表对应的代数，数字越大代表越新。一般在数字之后还有后缀，常见后缀为PRO，EVO Plus，EVO，QVO，性能由高到低，QVO目前只出现在8X0系列，另外还有新出品的无后缀型号980，此型号无缓存。各后缀代表此固态硬盘的市场定位，一般与采用的闪存颗粒型号有关。最高端的980 PRO型号可以达到最高7GB/s的顺序读取以及5.1GB/s的顺序写入。QVO型号一般是使用的QLC闪存颗粒。

固态硬盘有很多是假货，尽量到官方店铺进行购买。其他的固态硬盘也都是鱼龙混杂，需要多搜索进行查看。若作为主用的固态硬盘尽量选择价格更高的产品，若作为仓库盘使用可以根据选购时找到的型号搜索评测，查看其闪存颗粒是否虚假宣传或主控型号虚假宣传。因为固态硬盘在已有零部件的情况下制作很容易，导致各种杂牌出现，所以尽量选择口碑较好的品牌。但一些大品牌也被爆出现过问题，如海康威视混用闪存颗粒、西部数据绿盘和蓝盘掉速、金士顿固态掉盘等等。所以选购固态硬盘时要尽量多看评测，否则会买到性能很差的硬盘。

另外还有一些硬盘为OEM版，即只针对厂商出售，不针对各人售卖，一般为整机电脑原装的盘。有商家将这些盘拆机进行售卖，如三星PM981a为三星970 EVO Plus的OEM版，三星PM981为三星970 EVO的OEM版。这些型号没有厂商售后，只有店家售后，若想要高性价比且对售后无感，可以选择这些型号。

## 固态硬盘选购注意要点

如果主板上有M.2 M key的，支持nvme的插槽，优先购买nvme固态硬盘，因为此种固态硬盘是目前性能最为优秀的，顺序读写速度和4K随机读写速度是碾压其他类型的硬盘。

PCI-E通道也是目前需要考虑的范围，现在大部分nvme固态硬盘使用的是PCI-E 3.0x4通道，而PCI-E 4.0x4正在普及的过程中，目前只有最新的主板和CPU可以支持PCI-E 4.0通道，若有未来升级需求可以使用支持PCI-E 4.0x4的nvme固态硬盘，此种硬盘在支持PCI-E 4.0的环境中速度更快，若在只支持PCI-E 3.0的环境中将被限制到PCI-E 3.0x4的速度极限。

选购固态硬盘空间大小时，要尽量大于自己所需要的空间，留有足够富裕的空间。由于主控算法的原因，在剩余较多空间时，固态硬盘可以达到设计的速度极限，但是当剩余空间逐渐减少时，其速度将会变的越来越慢。

固态硬盘一般都会留有剩余的富裕空间，用来减少速度变慢的弊端。如标记为480GB的固态硬盘可能内部设计的闪存颗粒大小为512GB，而这隐藏的32GB为避免硬盘掉速的隐藏空间。512GB也有可能被厂商标记为500GB，则隐藏空间为12GB，这些都是为了避免掉速所做的手段。

# 硬盘的阵列

## 阵列的组建方式

RAID有两种组建方式，一种是使用CPU运算来支持RAID，对CPU负载较大，被称为软RAID；另外还有由阵列卡进行组RAID，不占用CPU，被称为硬RAID。

## 标准RAID

标准RAID中常使用的是RAID 0，RAID 1，RAID 5，RAID 6。

RAID 0将数据分为数据块，放在所有硬盘中保存，无数据校验保护，读写速度是所有RAID中最快的，阵列中坏一块硬盘则所有数据全部丢失，至少2块硬盘。存储空间为阵列中最小空间盘的大小乘以盘数，速度为所有盘的累加。下图为RAID 0的数据存储方式。

![RAID 0](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-23/ops-raid-4-11-48-54-7e09ba6e8329fd6ff88b36b42b09a0f6-3c1a65.gif)

RAID 1为将数据重复存入两硬盘中，互相作为数据备份，数据安全性是所有RAID中最强的，但空间利用率最低，只有50%。下图为RAID 1的数据存储方式。

![RAID 1](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-23/ops-raid-6-11-54-08-710479cd5594b82738f831c6edc9e3b6-631df1.gif)

RAID 5为将数据校验存入各盘中，至少3个硬盘才能组成RAID 5，会损失1个硬盘的容量，坏1块硬盘仍然能正常工作。重新替换坏掉的硬盘则阵列会进行重建，但在重建过程中再损坏一块硬盘会导致所有数据丢失，实际情况下此几率并不低，在重建过程中有较大概率阵列会损坏。下图为RAID 5的数据存储方式和数据重建方式。



![RAID 5](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-23/ops-raid-13-11-57-03-15c6aa46533971adb8dbbfd4ac7d0cd5-2fa8e6.gif)

![RAID 5](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-23/ops-raid-14-11-57-16-d451c3e0d4cd1f6a96fc82c0b91512d3-8b8028.gif)

RAID 6是在RAID 5上增加保护的RAID方式，其允许损坏2块硬盘，至少4块硬盘才能组RAID 6，容量会损失2块硬盘的大小。

## 混合RAID

RAID 10是将RAID 1和RAID 0进行组合形成的RAID，所以读作一零而不是十，其先将硬盘组RAID 1，再将已经组为RAID 1的两个RAID继续组RAID 0。这样可以保证在任意一个RAID 1中有硬盘损坏数据仍然完整，且数据的读写速度比单纯的RAID 1更快。

![RAID 10](https://cdn.jsdelivr.net/gh/seesight/host/img/2021/05-23/576154-20161124232438628-1448311671-12-03-28-3eac88946f7dc60edfda0d1ebfcd01e4-66c4da.jpg)

## RAID-Z

RAID-Z为ZFS文件系统中对RAID的实现方式，RAID-Z1类似于RAID 5，允许损坏1块硬盘，RAID-Z2类似于RAID-6，允许损坏2块硬盘，RAID-Z3为ZFS系统独有，允许损坏3块硬盘。

## JBOD

JBOD（Just a bunch of disk）并不是一种RAID，而是将多个硬盘合并形成一个大的逻辑盘，没有数据冗余保护，无读取提速，存放机制为从第一个硬盘开始向后存储数据，若某块硬盘损坏则此硬盘上的数据丢失，并不会导致所有数据丢失。

## UNRAID

UnRAID为商业产品，是UnRAID系统中所实现的功能，结合了JOBD和RAID的优点，允许1块或2块校验盘，数据单独存放在每块硬盘中，在无校验盘的情况下损坏硬盘只会损失该硬盘上的数据，若有校验盘则可以恢复和重建数据。增加减少硬盘也较为方便，唯一要求是校验盘需为所有硬盘中容量最大的，校验盘空间不计入阵列空间中，读取速度为单盘读取速度。



# 参考文章

[硬件小知识：固态硬盘和机械硬盘都有什么区别？](https://tech.sina.com.cn/n/k/2020-09-16/doc-iivhuipp4570797.shtml)

[机械硬盘内部硬件结构和工作原理详解](https://blog.csdn.net/oDeviloo/article/details/53708028)

[关于硬盘的一些基础认识](https://zhuanlan.zhihu.com/p/36076367)

[为什么硬盘转速是5400或者7200这么奇怪的数字？7200转的硬盘一定比5400快吗？](https://zhuanlan.zhihu.com/p/38847308)

[SSD固态硬盘内部结构详解](https://www.cnblogs.com/whl320124/articles/10063608.html)

[这几个硬盘接口 别玩错了](http://m.cfan.com.cn/pcarticle/129184)

[带你认识SATA、mSATA 、PCIe和M.2四种接口](https://mst.zol.com.cn/615/6150989.html)

[M.2接口——NVMe or AHCI、SATA or PCIe](https://zhuanlan.zhihu.com/p/135297463)

[MINI PCI-E接口和mSATA接口有什么区别？](https://gaopc.cn/588.html)

[常见的SAS接口类型介绍说明](http://m.elecfans.com/article/1259947.html)

[西部数据硬盘 篇一：绿盘、红盘、蓝盘、紫盘、黑盘和金盘的区别](https://post.smzdm.com/p/aoow85z7/)

[硬盘 篇二：二手硬盘水有多深/你不知道奸商的那些骚操作！！！](https://post.smzdm.com/p/a78zrd75/)

[这些硬盘不要买！2021那些不推荐的固态硬盘](https://zhuanlan.zhihu.com/p/166162142)

[RAID 详解](https://ccie.lol/knowledge-base/ops-raid/)

